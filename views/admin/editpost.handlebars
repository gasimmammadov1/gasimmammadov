{{! bu sehife addpost.handlebars idi, kopyaladim, bezi deyisiklikler edib editpost sehifesi etdim}}

<!--==========================
    INSIDE HERO SECTION Section
============================-->
<section class="page-image page-image-contact md-padding">
  <h1 class="text-white text-center">{{!-- EDITPOST --}}</h1>
</section>

<!--==========================
    Contact Section
============================-->
<section id="contact" class="md-padding">
  <div class="container">

    <div class="row text-center">
      <div class="col-md-4 offset-md-4">
        <div class="section-header">
          <h2 class="title">Edit Post</h2>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-12">
        <form action="/admin/posts/{{post._id}}?_method=PUT" {{!-- edit ucun put yazilir --}} method="post" enctype="multipart/form-data">
          {{! enctype fayllari post ile gondermek ucundu}}
          {{! action bizim postu gondereceyimiz zaman getmesini istediyimiz yeri yazmaq ucundu }}
        <input type="hidden" name="_method" value="PUT">
        {{!-- method override'in documentation'undaki kimi yaziriq --}}


          <div class="row">
            <div class="offset-2 col-md-8">

              <div class="form-group">
                <span class="h5">Write your post title:</span>
                <input
                  class="form-control"
                  name="title"
                  {{!  Post.js'de olan schema'ya uygun ad verdim }}
                  {{! ve id yerine name yazdiq, cunki post request zamani server name oxuyur }}
                  type="username"
                  value="{{post.title}}" 
                  {{!-- place holderi sildik, onun yerine value olaraq editlenen postun basliginin son deyerini yazmasini istedik  --}}
                  required="required"
                  data-validation-required-message="Please enter post title."
                />
                <p class="help-block text-danger"></p>
              </div>

              {{! textarea hissesi elave etdik }}

              <div class="form-group">
                <span class="h5">Write your post text:</span>
                <textarea
                  class="form-control"
                  name="content"
                  
                  required="required"
                  data-validation-required-message="Please enter a text.">{{post.content}}</textarea>{{!-- burda ise yuxaridakindan ferqli olaraq value yerine bele yaziriq. --}}

                <p class="help-block text-danger"></p>
              </div>

              {{! yuxaridaki inputu kopyaladiq, bura yapisdirdiq ve indi duzelisler edirik }}
              {{! bu bu hisse express-fileupload sayesinde real icra olunacaq }}
              <div class="form-group">
                <span class="h5">Upload your post photo:</span>
                <input
                  class="form-control"
                  name="post_image"
                  {{!  Post.js'de olan schema'ya uygun ad verdim }}
                  {{! ve id yerine post_image yazdiq, cunki post request zamani server ele oxuyur }}
                  type="file"
                  required="required"
                  data-validation-required-message="Please enter post title."
                />
                <p class="help-block text-danger"></p>
              </div>

              <div class="form-group">
                <span class="h5">Choose your post category:</span>
                {{!--⚠️burda postun en son aid oldugu kateqoriyanin gorunmesi ucun helper fayli yaratmaq olar --}}
                <select class="form-control" name="category">  
                  {{#each categories}}
                  <option value="{{_id}}" >{{name}}</option> {{!-- dersde id yazmisdi, ama biz _id yazdiq --}}
                  {{!-- elave edilen id'e sahib postu hemen kateqoriya ile elaqelendirsin deye value="{{_id}}" yazdiq --}}
                  {{/each}}

                </select>

              </div>

            </div>
            {{! burda message hissesi var idi, sildik. }}
            <div class="clearfix"></div>
            <div class="col-lg-12 text-center">
              <div id="success"></div>
              <button class="main-btn" type="submit" style="font-weight: bold;">Update Post</button>
              {{! buralari da register etdik }}
            </div>
          </div>
        </form>
      </div>
    </div>

  </div>
</section>